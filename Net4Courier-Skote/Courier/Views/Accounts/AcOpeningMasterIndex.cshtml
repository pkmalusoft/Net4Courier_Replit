@model List<Net4Courier.Models.AcOpeningMasterVm>
@{
    ViewBag.Title = "AcOpeningMaster";
    Layout = "~/Views/Shared/_Layout.cshtml";
    var _decimal = Convert.ToInt32(@Session["Decimal"].ToString());
    var i = 0;
    var isadd = true;
    var ismodify = true;
    var isdelete = true;

    string path = Request.Url.AbsolutePath.ToLower();

    if (Convert.ToInt32(Session["UserRoleID"]) > 1)
    {
        Net4Courier.Models.SourceMastersModel obj = new Net4Courier.Models.SourceMastersModel();
        isadd = obj.GetAddpermission(Convert.ToInt32(Session["UserRoleID"]), path);
        ismodify = obj.GetModifypermission(Convert.ToInt32(Session["UserRoleID"]), path);
        isdelete = obj.GetDeletepermission(Convert.ToInt32(Session["UserRoleID"]), path);

    }
}
@{
    ViewBag.Title = "Account Opening";
    ViewBag.pTitle = "Account Opening";
    ViewBag.pageTitle = "Accounts";
}


<script type="text/javascript">
    function isNumberKey(evt) {
        var charCode = (evt.which) ? evt.which : evt.keyCode;
        if (charCode != 46 && charCode > 31
            && (charCode < 48 || charCode > 57))
            return false;

        return true;
    }

    function setNumberDecimal(obj) {

        $(obj).val(parseFloat($(obj).val()).toFixed(@_decimal));
    }
     
     
    $(document).ready(function () {
 
        
    });
   
    function DeleteOpeningMaster(ID) {
        if (confirm("Are you sure? You want to Delete?")) {
            window.location.href = "/Accounts/DeleteAcOpeningMaster/?Id=" + ID;
        }
    }
    function CancelEdit() {
        location.reload();
    }
</script>

<div class="card">
    <div class="card-body">
        <div class="row">
            <div class="col-md-12 mb-4">
                <a href="/Accounts/AcOpeningMasterCreate?id=0" class="btn btn-primary float-right"><i class="mdi mdi-plus me-1"></i> New Head Opening</a>
            </div>
        </div>
        <div class="row ">

            <div class="col-md-12">

                <table class="table table-datatable dataTable table-bordered tblfont" id="datatable">
                    <thead>
                        <tr>
                            <th>S.No</th>
                            <th>
                                @Html.Label("Chart of Account")
                            </th>
                            <th>
                                Debit
                            </th>
                            <th>
                                Credit
                            </th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody id="details">
                        @foreach (var item in Model)
                        {
                            <tr>
                                <td id="row_@i">
                                    @(i+1)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.AcHead)
                                    <input type="hidden" class="form-control" value="@item.AcOpeningID" id="txtId_@i" />
                                    <input type="hidden" value="false" id="hdndel_@i" class="hdndeleted" />

                                    <input type="hidden" class="form-control" value="@item.AcHeadID" id="txtHeadId_@i" />
                                </td>
                                <td>
                                    @Net4Courier.Models.CommonFunctions.GetDecimalFormat(item.DebitAmount, "2")
                                </td>
                                <td>

                                    @Net4Courier.Models.CommonFunctions.GetDecimalFormat(item.CreditAmount, "2")
                                </td>
                                <td>
                                    @*@if (ismodify)
                    {
                        <a style="cursor:pointer" onclick="EditOpeningMaster(@item.AcOpeningID)"><i class="fa fa-pencil"></i></a>
                    }*@

                                    @if (isdelete)
                                    {
                                        <a class="DeleteNewRow text-danger" onclick="DeleteOpeningMaster(@item.AcOpeningID" )><i class="mdi mdi-delete font-size-18 "></i></a>
                                    }

                                </td>
                            </tr>
                            i++;
                        }

                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>


