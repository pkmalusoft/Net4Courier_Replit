@model Net4Courier.Models.DashboardVM
@{
    ViewBag.Title = "Detail";
    ViewBag.pTitle = "Dashboard";
    ViewBag.pageTitle = "Home";
    Layout = "~/Views/Shared/_Layout.cshtml";
    var UserName = "";
    if (Session["UserName"] != null)
    {
        UserName = Session["UserName"].ToString();
    }


}



<div class="row">
    <div class="col-xl-12">
        <div class="row">

            <div class="col-md-3">
                <div class="card mini-stats-wid">
                    <div class="card-body">
                        <div class="input-group">
                            <div class="col-md-10">
                                <div class="">
                                    <img src="~/assets/images/CompanyLogo.png" style="width:100%;height:105px" />

                                </div>
                            </div>

                            <div class="col-md-1 text-md-right">
                                <a class="right" title="Click to reprocess" href="JavaScript:void(0)" onclick="DashboardProcess()">
                                    <i class="mdi mdi-refresh" style="font-size: 30px; color: #34c38f; margin-top: 25px;"></i>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
                <div class="col-md-3">
                    <div class="card mini-stats-wid">
                        <div class="card-body">
                            <div class="media">
                                <div class="media-body">
                                    <p class="text-muted font-weight-medium">Shipments</p>
                                    <h4 class="mb-0">@string.Format("{0:n0}", @Model.TotalJobs)</h4>
                                </div>

                                <div class="mini-stat-icon avatar-sm rounded-circle bg-primary align-self-center">
                                    <span class="avatar-title">
                                        <i class="bx bx-copy-alt font-size-24"></i>
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="card mini-stats-wid">
                        <div class="card-body">
                            <div class="media">
                                <div class="media-body">
                                    <p class="text-muted font-weight-medium">Revenue YTD</p>
                                    <h4 class="mb-0">@string.Format("{0:n2}", @Model.RevenueYTD)</h4>
                                </div>

                                <div class="avatar-sm rounded-circle bg-primary align-self-center mini-stat-icon">
                                    <span class="avatar-title rounded-circle bg-primary">
                                        <i class="bx bx-archive-in font-size-24"></i>
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="card mini-stats-wid">
                        <div class="card-body">
                            <div class="media">
                                <div class="media-body">
                                    <p class="text-muted font-weight-medium">Revenue MTD</p>
                                    <h4 class="mb-0">@string.Format("{0:n2}", @Model.RevenueMTD)</h4>
                                </div>

                                <div class="avatar-sm rounded-circle bg-primary align-self-center mini-stat-icon">
                                    <span class="avatar-title rounded-circle bg-primary">
                                        <i class="bx bx-purchase-tag-alt font-size-24"></i>
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
        
            </div>
            <!-- end row -->

           
        </div>
    </div>
 
<!-- end row -->

<div class="row">
    <div class="col-xl-4">
        <div class="card">
            <div class="card-body">
                @*<h4 class="card-title mb-4">Total In-Stock <i class="mdi mdi-stocking text-primary font-size-18"></i> @Model.TotalInStock </h4>

        <hr />*@
                <input type="hidden" id="hdnCountSeriesA" value="@Model.CountSeriesA" />
                <input type="hidden" id="hdnCountSeriesB" value="@Model.CountSeriesB" />
                <input type="hidden" id="hdnCountSeriesC" value="@Model.CountSeriesC" />
                <input type="hidden" id="hdnCountSeriesD" value="@Model.CountSeriesD" />

                <input type="hidden" id="hdnRevenueSeriesA" value="@Model.RevenueSeriesA" />
                <input type="hidden" id="hdnRevenueSeriesB" value="@Model.RevenueSeriesB" />
                <input type="hidden" id="hdnRevenueSeriesC" value="@Model.RevenueSeriesC" />
                <input type="hidden" id="hdnRevenueSeriesD" value="@Model.RevenueSeriesD" />
                <h4 class="card-title mb-4">Top 3 Destination of Shipment</h4>
                <table class="table table-centered table-nowrap">
                    <tbody>
                        <tr>
                            <td style="width: 30%">
                                <p class="mb-0">@Model.Top1CityName</p>
                            </td>
                            <td style="width: 25%">
                                <h5 class="mb-0">@string.Format("{0:n1}", @Model.Top1City)%</h5>
                            </td>
                            <td>
                                <div class="progress bg-transparent progress-sm">
                                    <div class="progress-bar bg-primary rounded" role="progressbar" style="width: @Model.Top1City%" aria-valuenow="@Model.Top1City" aria-valuemin="0" aria-valuemax="100"></div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <p class="mb-0">@Model.Top2CityName</p>
                            </td>
                            <td>
                                <h5 class="mb-0">@string.Format("{0:n1}", @Model.Top2City)%</h5>
                            </td>
                            <td>
                                <div class="progress bg-transparent progress-sm">
                                    <div class="progress-bar bg-success rounded" role="progressbar" style="width: @Model.Top2City%" aria-valuenow="@Model.Top2City" aria-valuemin="0" aria-valuemax="100"></div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <p class="mb-0">@Model.Top3CityName</p>
                            </td>
                            <td>
                                <h5 class="mb-0">@string.Format("{0:n1}", @Model.Top3City)%</h5>
                            </td>
                            <td>
                                <div class="progress bg-transparent progress-sm">
                                    <div class="progress-bar bg-warning rounded" role="progressbar" style="width: @Model.Top3City%" aria-valuenow="70" aria-valuemin="0" aria-valuemax="100"></div>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="card">
            <div class="card-body">
                @*<h4 class="card-title mb-4">Total In-Stock <i class="mdi mdi-stocking text-primary font-size-18"></i> @Model.TotalInStock </h4>

                <hr />*@
                
                <h4 class="card-title mb-4">Payment Wise Shipment Analysis</h4>
                <table class="table table-centered table-nowrap">
                    <tbody>
                        @foreach (var item1 in Model.PaymentModeWiseList)
                        {
                            <tr>
                                <td style="width: 30%">
                                    <p class="mb-0">@item1.PaymentMode</p>
                                </td>
                                <td style="width: 25%">
                                    <h5 class="mb-0" title="@string.Format("{0:n0}", item1.AWBCount)" >@string.Format("{0:n0}", item1.AWBPercent)%</h5>
                                </td>
                                <td>
                                    <div class="progress bg-transparent progress-sm">
                                        <div class="progress-bar bg-primary rounded" role="progressbar" style="width: @item1.AWBPercent%" aria-valuenow="@item1.AWBPercent" aria-valuemin="0" aria-valuemax="100"></div>
                                    </div>
                                </td>
                            </tr>
                        }
                            @*<tr>
                                <td>
                                    <p class="mb-0">@Model.Top2CityName</p>
                                </td>
                                <td>
                                    <h5 class="mb-0">@string.Format("{0:n2}", @Model.Top2City)</h5>
                                </td>
                                <td>
                                    <div class="progress bg-transparent progress-sm">
                                        <div class="progress-bar bg-success rounded" role="progressbar" style="width: 82%" aria-valuenow="82" aria-valuemin="0" aria-valuemax="100"></div>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <p class="mb-0">@Model.Top3CityName</p>
                                </td>
                                <td>
                                    <h5 class="mb-0">@string.Format("{0:n0}", @Model.Top3City)</h5>
                                </td>
                                <td>
                                    <div class="progress bg-transparent progress-sm">
                                        <div class="progress-bar bg-warning rounded" role="progressbar" style="width: 70%" aria-valuenow="70" aria-valuemin="0" aria-valuemax="100"></div>
                                    </div>
                                </td>
                            </tr>*@
                        </tbody>
                </table>
            </div>
        </div>
    </div>
    <div class="col-xl-8">
        <div class="card">
            <div class="card-body">
                <h4 class="card-title mb-4 float-sm-left">Shipment Analysis Chart</h4>
                <div class="float-sm-right">
                    <ul class="nav nav-pills">
                        <li class="nav-item" onclick="chart1()">
                            <a class="nav-link active" id="achart1" href="javascript:void(0)">Shipment Count</a>
                        </li>
                        <li class="nav-item" onclick="chart2()">
                            <a class="nav-link" id="achart2" href="javascript:void(0)">Shipment Revenue</a>
                        </li>
                        @*<li class="nav-item">
                                <a class="nav-link active" href="#">Year</a>
                            </li>*@
                    </ul>
                </div>
                <div class="clearfix"></div>
                <div id="stacked-column-chart" class="apex-charts" dir="ltr"></div>
            </div>
        </div>
    </div>
</div>
        <div class="card">
            <div class="card-body">
                <h4 class="card-title mb-4">Pending Consignments</h4>

                <table class="table table-centered table-nowrap mb-0">
                    <thead class="thead-light">
                        <tr>
                            <th>Date</th>
                            <th>CN. No</th>
                            <th>Shipper</th>
                            <th>Origin</th>
                            <th>Receiver</th>
                            <th>Destination</th>
                            <th>CBM</th>
                            <th>Status</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var item in Model.ShipmentList)
                        {
                            <tr>
                                <td>
                                    @Net4Courier.Models.CommonFunctions.GetShortDateFormat(item.InScanDate)
                                </td>
                                <td> <a target="_blank" href="/AWB/Create?id=@item.InScanID"> @Html.DisplayFor(modelItem => item.HAWBNo)</a></td>
                                <td>
                                    <span class="text_over" title="@Html.DisplayFor(modelItem => item.shippername)">@Html.DisplayFor(modelItem => item.shippername)</span>
                                </td>
                                <td>
                                    <span class="text_over" title="@item.ConsignorCityName - @item.ConsignorCountryName">@item.ConsignorCityName - @item.ConsignorCountryName</span>
                                </td>
                                <td>
                                    <span class="text_over" title="@Html.DisplayFor(modelItem => item.consigneename)">@Html.DisplayFor(modelItem => item.consigneename)</span>

                                </td>
                                <td>
                                    <span class="text_over" title="@item.ConsigneeCityName - @item.ConsigneeCountryName">@item.ConsigneeCityName - @item.ConsigneeCountryName</span>
                                </td>
                                <td>
                                    @item.paymentmode | @item.totalCharge
                                </td>

                                <td>
                                    <span class="badge badge-pill badge-soft-success font-size-12">@item.CourierStatus</span>
                                </td>
                                <td>
                                </td>
                            </tr>
                        }

                    </tbody>
                </table>
            </div>
        </div>
   
 

<!-- end row -->
<!-- Modal -->
<div class="modal fade exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Order Details</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <p class="mb-2">Product id: <span class="text-primary">#SK2540</span></p>
                <p class="mb-4">Billing Name: <span class="text-primary">Neal Matthews</span></p>

                <div class="table-responsive">
                    <table class="table table-centered table-nowrap">
                        <thead>
                            <tr>
                                <th scope="col">Product</th>
                                <th scope="col">Product Name</th>
                                <th scope="col">Price</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <th scope="row">
                                    <div>
                                        <img src="~/assets/images/product/img-7.png" alt="" class="avatar-sm">
                                    </div>
                                </th>
                                <td>
                                    <div>
                                        <h5 class="text-truncate font-size-14">Wireless Headphone (Black)</h5>
                                        <p class="text-muted mb-0">$ 225 x 1</p>
                                    </div>
                                </td>
                                <td>$ 255</td>
                            </tr>
                            <tr>
                                <th scope="row">
                                    <div>
                                        <img src="~/assets/images/product/img-4.png" alt="" class="avatar-sm">
                                    </div>
                                </th>
                                <td>
                                    <div>
                                        <h5 class="text-truncate font-size-14">Phone patterned cases</h5>
                                        <p class="text-muted mb-0">$ 145 x 1</p>
                                    </div>
                                </td>
                                <td>$ 145</td>
                            </tr>
                            <tr>
                                <td colspan="2">
                                    <h6 class="m-0 text-right">Sub Total:</h6>
                                </td>
                                <td>
                                    $ 400
                                </td>
                            </tr>
                            <tr>
                                <td colspan="2">
                                    <h6 class="m-0 text-right">Shipping:</h6>
                                </td>
                                <td>
                                    Free
                                </td>
                            </tr>
                            <tr>
                                <td colspan="2">
                                    <h6 class="m-0 text-right">Total:</h6>
                                </td>
                                <td>
                                    $ 400
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>
<!-- end modal -->
<!-- apexcharts -->
@section scripts{


    <script src="~/assets/libs/apexcharts/apexcharts.min.js"></script>

    @*<script src="~/assets/js/pages/dashboard.init.js"></script>*@
    <script src="~/Scripts/JS/Dashboard.js"></script>
    <!-- JAVASCRIPT -->
    <!--<script src="~/assets/libs/jquery/jquery.min.js"></script>
    <script src="~/assets/libs/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="~/assets/libs/metismenu/metisMenu.min.js"></script>-->


    <script src="~/assets/libs/simplebar/simplebar.min.js"></script>
    <script src="~/assets/libs/node-waves/waves.min.js"></script>
    @*<script src="~/assets/js/lang/jquery.multiLanguage.js"></script>*@

    @*<script src="~/assets/js/app.js"></script>*@






}
