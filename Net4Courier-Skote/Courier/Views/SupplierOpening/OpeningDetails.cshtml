@model  IEnumerable<Net4Courier.Models.AcInvoiceOpeningDetailVM>
@{ Layout = null;
    var _decimal = @Session["Decimal"].ToString();
    var _userrole = @Session["UserRoleID"].ToString();
    var i = 0;
    var j = 0;
    var isdelete1 = true;
}
if (ViewBag.EnableSave == false)
{
    isdelete1 = false;
}



<div class="row" id="listpanel">
    <div class="col-md-12">
        <table class="table align-middle table-nowrap" style="border:1px solid black;" id=" ">
            <thead class="table-light">
                <tr>
                    <th>S.No.</th>
                    <th>Invoice No.</th>
                    <th>Invoice Date</th>
                    <th>Debit</th>
                    <th>Credit</th>
                    <th></th>


                </tr>
            </thead>
            <tbody id="tmcbody">

                @foreach (var item in Model)
                {
                    <tr>
                        <td id="row_@i">@(i+1)</td>
                        <td>
                            @item.InvoiceNo
                        </td>

                        <td>
                            @Net4Courier.Models.CommonFunctions.GetShortDateFormat(@item.InvoiceDate)

                        </td>
                        <td>
                            @Net4Courier.Models.CommonFunctions.GetFormatNumber(@item.Debit, "2")

                        </td>
                        <td>
                            @Net4Courier.Models.CommonFunctions.GetFormatNumber(@item.Credit, "2")
                        </td>
                        <td>
                            <div class="d-flex gap-3">
                                <a target="_blank" href="/SupplierOpening/Create?id=@item.AcOPInvoiceDetailID" class="text-success"><i class="mdi mdi-pencil font-size-18"></i></a>
                                @if (isdelete1)
                                {
                                    <a href="javascript:void(0)" onclick="Delete(@item.AcOPInvoiceDetailID)" class="text-danger"><i class="mdi mdi-delete font-size-18"></i></a>
                                }
                                </div>
                        </td>
                    </tr>


                    i++;

                }

            </tbody>

        </table>
    </div>
</div>





<!-- end row -->
<!-- end row -->

@section scripts{





}
<script>
    function Delete(ID) {
        Swal.fire({ title: "Are you sure?", text: "Do you want to delete this?", icon: "warning", showCancelButton: !0, confirmButtonColor: "#34c38f", cancelButtonColor: "#f46a6a", confirmButtonText: "Yes, delete it!" }).then(
            function (t) {
                if (t.value) {

                    $.ajax({
                        type: "POST",
                        url: '/CustomerOpening/DeleteOpeningDetail',
                        data: {
                            'id': ID
                        },
                        success: function (response) {
                            if (response.status == "ok") {
                                Swal.fire("Delete Status!", response.message, "success");
                                window.location.reload();

                            }
                            else {
                                Swal.fire("Delete Status!", response.message, "error");
                            }
                        }
                    });

                }
            });
    }

    function showchild(index, MCID, InScanID) {
        debugger;
        var idtext = '#trcost_' + MCID + '-' + InScanID;
        var display = $(idtext).attr('class');
        if (display == 'hide') {
            $(idtext).removeClass('hide')
            $('#achild_' + MCID + '-' + InScanID).html('<i class="fa fa-minus"></i>');
        }
        else {
            $(idtext).addClass('hide')
            $('#achild_' + MCID + '-' + InScanID).html('<i class="fa fa-plus"></i>');
        }

    }
</script>
