@model Net4Courier.Models.ProductTypeVM

@{
    ViewBag.Title = "Create";
       ViewBag.pTitle = "Product & Service Type";
    ViewBag.pageTitle = "Product & Service Type";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<style>
    .loginbox
    {
        background-color:white;
       border-style: solid;
    border-color: black;
    border-radius:10px;
    }
    #Length
    {
        color:black;
          border-style: solid;
    border-color: black;
    }
     #Width
    {
        color:black;
          border-style: solid;
    border-color: black;
    }
       #Height
    {
        color:black;
          border-style: solid;
    border-color: black;
    }
         #CBM
    {
        color:black;
          border-style: solid;
    border-color: black;
    }

</style>
 <script type="text/javascript">
    $(document).ready(function () {
        $(":text").css({ "border-radius": "5px" });
        $("select").css({ "border-radius": "5px" });

        $("#ProductName").focus();

        $("#btnsave").click(function () {
            var cou = $("#ProductName").val();

            var id = $("#ParcelType option:selected").val();
            var inscan = $("#transport option:selected").val();
            if (cou == "") {
                $("#validations").show();
                return false;
            }

            else if (id == "") {
                $("#validations").show();
                return false;
            }
            else if (inscan == "") {
                $("#validations").show();
                return false;
            }


            else {
                $("#validations").hide();
                return true;
            }
        });

     


    
    });
</script>
   <script type="text/javascript">
    $(document).ready(function () {
            $("#Length").val(parseFloat(0).toFixed(2));
            $("#Width").val(parseFloat(0).toFixed(2));
            $("#Height").val(parseFloat(0).toFixed(2));
            $("#Cubemeter").val(parseFloat(0).toFixed(2));


        $('#CustomBox').change(function () {
            if ($('#CustomBox').prop('checked') == true) {
                $("#Length").val(parseFloat(0).toFixed(2));
                $("#Width").val(parseFloat(0).toFixed(2));
                $("#Height").val(parseFloat(0).toFixed(2));
                $("#Cubemeter").val(parseFloat(0).toFixed(2));
                $("#VolumeWeight").val(parseFloat(0).toFixed(2));
                $("#Length").attr('readonly', 'readonly');
                $("#Width").attr('readonly', 'readonly');
                $("#Height").attr('readonly', 'readonly');
                $("#CBM").attr('readonly', 'readonly');
                $("#VolumeWeight").attr('readonly', 'readonly');
            }
            else {
                $("#Length").removeAttr('readonly');
                $("#Width").removeAttr('readonly');
                $("#Height").removeAttr('readonly');
                $("#CBM").removeAttr('readonly');
                $("#VolumeWeight").removeAttr('readonly');

            }

        })
        $('#CBMbasedCharges').change(function () {
            if ($('#CBMbasedCharges').prop('checked') == true) {
                $('#VolumeMetricBased').prop('checked', false);
                cal();
            }
             

        })

        $('#VolumeMetricBased').change(function () {
            if ($('#VolumeMetricBased').prop('checked') == true) {
                $('#CBMbasedCharges').prop('checked', false);
                cal();
            }


        })

        $("#Length").blur(function () {
            cal();
        });
        $("#Width").blur(function () {
            cal();
        });
        $("#Height").blur(function () {
            cal();
        });
        function cal() {

            
            var l=parseFloat($("#Length").val());
            var w = parseFloat($("#Width").val());
            var h = parseFloat($("#Height").val());

            if ($('#CBMbasedCharges').prop('checked')) {
                var CBM = l * w * h;
                CBM = parseFloat(CBM) / 1000000;
                $("#CBM").val(parseFloat(CBM).toFixed(3));
            } else if ($('#VolumeMetricBased').prop('checked')) {
                $("#CBM").val(0);
                var CBM = l * w * h;
                CBM = parseFloat(CBM) / 5000;
                $("#VolumeWeight").val(parseFloat(CBM).toFixed(2));
            }


        }
    });
       </script>

@using (Html.BeginForm())
{
    @Html.ValidationSummary(true)
      <div id="validations" style="color:red;margin-left:7px;display:none">* Please fill mandatory fields</div>
    <fieldset>
    
       <div class="row no-margin"> 
            <div class="card">
               <div class="card-body">
                   <div class="row">
                       <div class="col-md-3">
                           <div class="mb-2">
                               <label class="col-form-label required">Product Name</label>
                               @Html.TextBoxFor(model => model.ProductName, new { @class = "form-control txttarget" })
                               @Html.ValidationMessageFor(model => model.ProductName)
                           </div>
                       </div>

                       <div class="col-md-2">
                           <div class="mb-2">
                               <label class="col-form-label required">Parcel Type</label>
                               @Html.DropDownListFor(model => model.ParcelTypeID, new SelectList(@ViewBag.ParcelType, "ID", "ParcelType1"), "Select", new { @class = "form-select" })
                           </div>
                       </div>

                       <div class="col-md-2">
                           <div class="mb-2">
                               <label class="col-form-label required">Courier Type</label>
                               @Html.DropDownListFor(model => model.TransportModeID, new SelectList(@ViewBag.transport, "MovementID", "MovementType"), "Select", new { @class = "form-select" })
                           </div>
                       </div>


                       <div class="col-md-4 ">
                           <div class="row">
                               <div class="col-md-4 checkboxdesign btn_top">
                                   <label class="col-form-label required" title="CBM based Charges">CBM Charges</label>&nbsp;&nbsp;
                                   <label class="headinglabel" title="CBM based Charges">@Html.CheckBoxFor(model => model.CBMbasedCharges)</label>
                               </div>
                               <div class="col-md-4 checkboxdesign btn_top">
                                   <label class="col-form-label required" title="Volume Weight based Charges">Volume Wt. Chg.</label>&nbsp;&nbsp;
                                   <label class="headinglabel" title="Volume Weight based Charges">@Html.CheckBoxFor(model => model.VolumeMetricBased)</label>
                               </div>
                               <div class="col-md-4 checkboxdesign btn_top">
                                   <label class="col-form-label required">Custom Box</label>&nbsp;&nbsp;
                                   <label class="headinglabel">@Html.CheckBoxFor(model => model.CustomBox)</label>
                               </div>
                           </div>
                          
                       </div>
                 

                    <div class="col-md-12 mt-4">
                            <h4>  Package Dimensions </h4>
                            <hr>
                            <div class="row">
                                <div class="col-md-2">
                                    <label>Length</label>
                                    @Html.TextBoxFor(model => model.Length, new { @class = "form-control text-right" })
                                    @Html.ValidationMessageFor(model => model.Length)
                                </div>

                                <div class="col-md-2">
                                    <label>Width</label>
                                    @Html.TextBoxFor(model => model.Width, new { @class = "form-control text-right" })
                                    @Html.ValidationMessageFor(model => model.Width)
                                </div>
                                <div class="col-md-2">
                                    <label>Height</label>
                                    @Html.TextBoxFor(model => model.Height, new { @class = "form-control text-right" })
                                    @Html.ValidationMessageFor(model => model.Height)
                                </div>

                                <div class="col-md-2">
                                    <label>CBM</label>
                                    @Html.TextBoxFor(model => model.CBM, new { @class = "form-control text-right" })
                                    @Html.ValidationMessageFor(model => model.CBM)
                                </div>
                                <div class="col-md-2">
                                    <label>Volume Weight</label>
                                    @Html.TextBoxFor(model => model.VolumeWeight, new { @class = "form-control text-right" })
                                    @Html.ValidationMessageFor(model => model.VolumeWeight)
                                </div>
                            </div>
                            </div>

                         
                                <div class="col-md-12 text-md-end btn_top">
                                <input type="submit" value="Save" class="btn btn-success" id="btnsave" />
                                <a href='@Url.Action("Index", "ProductType", new { id = 0 })' class="btn btn-secondary" data-toggle="tooltip" data-placement="right" title="">Cancel</a>
                           
            </div>  </div>  </div> </div>
    </fieldset>
}

