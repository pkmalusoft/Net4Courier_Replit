@model Net4Courier.Models.CODReceiptVM
@{
    int i = 0;
    var _decimal = @Session["Decimal"].ToString();
    decimal amountcollected = 0;
}
<script>
    $(document).ready(function () {
        $("#Selectall").click(function () {
            var idtext = 'hdnawbchecked_';
            if ($("#Selectall").is(':checked')) {
                $('[id^=' + idtext + ']').each(function (index, item) {
                    $(item).prop('checked', true);
                });
            }
            else {
                $('[id^=' + idtext + ']').each(function (index, item) {
                    $(item).prop('checked', false);
                });
            }

            calculatetotal();
        });
    });
</script>
<table class="table table-bordered" id="datatable1">
  
    <thead class="table-light">
        <tr>
            <th style="width:12%"><input type="checkbox" style="width:20px;" class="Selectall" id="Selectall" value="0" name="Selectall" /> S No.</th>

            <th>AWB NO.</th>
            <th>AWB Date</th>
            <td>Shipper</td>
            <td>Receiver</td>
            <th>COD</th>

        </tr>
    </thead>
    <tbody id="listbody">
        @foreach (var item in Model.ReceiptDetails)
        {
            <tr>
                <td>
                    @(i + 1)

                    @Html.CheckBoxFor(model => model.ReceiptDetails[i].AWBChecked, new { @id = "hdnawbchecked_" + @i, @awb = item.AWBNo, ReceiptDetailID = item.ReceiptDetailID, @class = "checkfilter calfield", style = "margin-left:10px;", @onchange = "calculatetotal()" })
                </td>

                <td>
                    
                    <input type="hidden" name='ReceiptDetails[@i.ToString()].ReceiptID' value="@Model.ReceiptDetails[i].ReceiptID" />
                    <input type="hidden" name='ReceiptDetails[@i.ToString()].ReceiptDetailID' value="@Model.ReceiptDetails[i].ReceiptDetailID" id="hdnReceiptDetailID_@i"  />
                    <input type="hidden" name='ReceiptDetails[@i.ToString()].InboundShipmentID' value="@Model.ReceiptDetails[i].InboundShipmentID" id="hdnShipmentId_@i" />
                    <input type="hidden" name='ReceiptDetails[@i.ToString()].AWBNo' value="@Model.ReceiptDetails[i].AWBNo" />
                    <input type="hidden" name='ReceiptDetails[@i.ToString()].COD' value="@Model.ReceiptDetails[i].COD" id="hdnCOD_@i" />
                    @Html.DisplayFor(model => model.ReceiptDetails[i].AWBNo)

                </td>
                <td>
                    @Net4Courier.Models.CommonFunctions.GetShortDateFormat(@Model.ReceiptDetails[i].AWBDate)

                </td>
                <td>@item.Shipper</td>
                <td>@item.Receiver</td>
                <td class="text-right">
                    @Html.DisplayFor(model => model.ReceiptDetails[i].COD, new { @class = "text-right" })

                </td>

            </tr>
            i++;
            @*@amountcollected += @Model.ReceiptDetails[i].AmountAllocate;*@
        }
        <tr>
            <td colspan="5" class="text-right">
                <b>Total</b>
            </td>
            <td class="text-right">
                <span id="spantotcod" style="font-weight:bold" class="font-weight-bold text-right"></span>
            </td>
        </tr>
    </tbody>
    </table>

