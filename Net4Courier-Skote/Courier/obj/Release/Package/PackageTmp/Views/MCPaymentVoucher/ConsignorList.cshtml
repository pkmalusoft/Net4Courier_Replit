@model Net4Courier.Models.MCPaymentPrint
@{
    int i = 0;
    var _decimal = @Session["Decimal"].ToString();
}
<style>
    .dataTables_info{
        display:none!important;
    }
</style>
<script type="text/javascript">
    $(document).ready(function () {


        var table1 = $('#ConsignorTable').DataTable({ "paging": false, "sPaginationType": "simple" });

        //table1.columns().every(function () {
        //    var that = this;

        //    $('input', this.footer()).on('keyup change', function () {
        //        if (that.search() !== this.value) {
        //            that
        //                .search(this.value)
        //                .draw();
        //        }
        //    });
        //});
    });
</script>
<table class="table table-bordered table-responsive" id="ConsignorTable" style="background-color: white">

    <thead>
    <th style="text-align:center" width="5%">
        @*<input type="checkbox" style="width:20px;" class="Selectall" id="ConsignorSelectall" value="0" name="Selectall" onchange="redrawConsignorgridall()" />*@
        @Html.CheckBoxFor(model => model.ConsignorAllSelected, new { @class = "Selectall", @id = "ConsignorSelectall" , @onchange = "redrawConsignorgridall()" })
    </th>
    <th width="20%">
        S No.
    </th>    
    <th width="75%" >Consignor</th>
    
    </thead>
    <tbody class="input-table" id="consignortablebody">

        @foreach (var item in Model.ConsignorDetails)
        {
            <tr>
                <td>

                    
                    @Html.CheckBoxFor(model => model.ConsignorDetails[i].ConsignorChecked, new {  @class = "checkfilter calfield", style = "margin-left:10px;", @consignor=item.Consignor , @id = "consignorchecked_" + @i ,@onchange= "redrawConsignorgrid(this)" })
                    @Html.HiddenFor(model => model.ConsignorDetails[i].Consignor, new { @Value = @item.Consignor , @id="hdnConsignor_" + @i })

                </td>
                <td>
                    @(i + 1)
                </td>
                
                <td>
                    @item.Consignor
                </td>
                
               
            </tr>
            i++;
        }




    </tbody>

</table>

<script>
    $(document).ready(function () {


        $("#ConsignorSelectall").change(function () {
            var i = 0;
            debugger;
            var selectall = false;
            if ($(this).prop("checked") == true) {
                i = 1;
                selectall = true;
                $("#ConsignorTable tbody tr").addClass('Selected');
                $(".checkfilter").prop('checked', true);
            } else {
                $("#ConsignorTable tbody tr").removeClass('Selected');
                $(".checkfilter").prop('checked', false);
                selectall = false;
            }


            var maxrow = $('#ConsignorTablebody > tr').length;
            for (var i = 0; i < maxrow; i++) {
                var awbcheck = $("#AWBSelectall").prop("checked");
                $('#consignorchecked_' + i).attr('checked', awbcheck);
                if ((i + 1) == maxrow) {
                    debugger;
                    // gettotal();
                }
            }

        });

    });

</script>
