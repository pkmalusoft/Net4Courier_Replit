<style>
    .divinfo{
        border-right:1px solid #dedede;
    }
    </style>
<div class="modal fade bs-example-modal-lg" id="SingleAWBpopup" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content" style="border-radius:5px;">
            <div class="modal-header">
                <h4 class="modal-title">
                    AWB Search
                </h4>                
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>

            <div class="modal-body">
                <div class="container-fluid" id="SingleAWBContainer">
                    <div class="row form-group">


                        <div class="col-md-3 ">
                            <div class="mb-2">
                                <label class="col-form-label required">Airway Bill No.</label>
                                <input type="hidden" id="tInScanId" name="tInScanId" class="form-control" value="0" />
                                <div class="input-group">


                                    <input type="text" id="txtAWBNo" name="tAWB" class="form-control" />
                                    <button type="button" id="btnAWbSearch" class="btn btn-success waves-effect waves-light filter btn_top">
                                        <i class="bx bx-search mt-1" style="font-size: 21px;"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <label class="col-form-label">Fowarding Agent</label>
                            @Html.DropDownList("sFAgentID", new SelectList(@ViewBag.FwdAgentId, "FAgentID", "FAgentName"), "Select", new { @class = "form-select" })
                        </div>
                        <div class="col-md-2 ">
                            <div class="mb-2">
                                <label class="col-form-label">FAgent No.</label>
                                <input id="tfwdawb" name="tfwdawb" type="text" class="form-control">
                            </div>
                        </div>
                        <div class="col-md-2 ">
                            <div class="mb-2">
                                <label class="col-form-label">Fwd. Rate</label>
                                <input id="tfwdcharge" name="tfwdcharge" type="text" class="form-control textright" onchange="setTwoNumberDecimal(this)">
                            </div>
                        </div>                      
                        <div class="col-md-2 ">
                            <div class="mb-2">
                                <label class="col-form-label" title="Verified Weight">Ver. Wt.</label>
                                <input type="text" id="tVerifiedWeight" name="tVerifiedWeight" class="form-control text-right" />
                            </div>
                        </div>
                       
                        
                    </div>
                    <hr />
                    <div class="row">
                        <div class="col-md-4 divinfo">
                            <div class="mb-2">
                                <label class="col-form-label">AWB Detail</label>
                                <span id="sAWBDetail" rows="5" cols="30">AWB Date: 01/01/2023 <br /> Pcs :2 <br /> Weight: 32.44 </span>
                            </div>
                        </div>
                        <div class="col-md-4 divinfo ">
                            <div class="mb-2">
                                <label class="col-form-label">Consignor</label>
                                <span id="sAWBConsignor" rows="5" cols="30">Consignor name <br /> city name <br /> counryname</span>
                            </div>
                        </div>
                        <div class="col-md-4 divinfo">
                            <div class="mb-2">
                                <label class="col-form-label required">Consignee</label>
                                <span id="sAWBConsignee" rows="5" cols="30">Consignee name <br /> city name <br /> counryname</span>
                            </div>
                        </div>
                                </div>
                </div>
            </div>
            <div class="modal-footer" style="padding-top: 5px">
                <span class="error text-left" id="spansingleawberror"></span>
                <button type="button" class="btn btn-primary"  onclick="AddSingle()">Add & Continue</button>
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>
<script>
    $(document).ready(function () {
        $('#btnAWbSearch').click(function () {

            if ($('#txtAWBNo').val() == '') {
                return;
            }
            //if (checkduplicate($('#txtAWBNo').val()) == false) {
            //    $('#txtAWBNo').val('');
            //    $('#txtAWBNo').focus();
            //    return false;

            //}
            $.ajax({
                type: "POST",
                url: "/ExportShipment/GetAWBDetail",
                datatype: "Json",
                data: { id: $('#txtAWBNo').val(), exportid: $('#ID').val() },
                success: function (response) {
                    if (response.status == "ok") {
                        var data = response.data;
                        console.log(data);
                        $('#tShipper').val(data.Consignor);
                        $('#tInScanId').val(data.InScanId);
                        
                        var awbdetail = 'AWB Date :' + data.AWBDate + ' <br/>' + 'Pcs :' + data.Piecs + ' <br/>' + 'Weight :' + data.Weight;
                        $('#sAWBDetail').html(awbdetail);
                        var consignor = data.Consignor + '<br/>' + data.ConsignorCityName + '<br/>' + data.ConsignorCountryName;
                        $('#sAWBConsignor').html(consignor);
                        var consignee = data.Consignee + '<br/>' + data.ConsigneeCityName + '<br/>' + data.ConsigneeCountryName;
                        $('#sAWBConsignee').html(consignee);
                         

                    }
                    else {
                        $('#btnadd').removeAttr('disabled');
                        $('#txtAWBNo').val('');
                        $('#txtAWBNo').focus();
                        alert(response.message);
                    }

                }


            });

        })
    });
</script>