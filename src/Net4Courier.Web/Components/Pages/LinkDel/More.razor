@page "/linkdel/more"
@layout Net4Courier.Web.Components.Layout.LinkDelLayout
@using Microsoft.AspNetCore.Components.Authorization
@using Net4Courier.Web.Services
@inject AuthenticationStateProvider AuthStateProvider
@inject NavigationManager Navigation

<div style="max-width: 600px; margin: 0 auto;">
    <MudText Typo="Typo.h5" Style="font-weight: 700; color: #1e293b; margin-bottom: 20px;">More</MudText>

    <MudPaper Elevation="0" Style="border-radius: 12px; overflow: hidden; margin-bottom: 16px;">
        <MudList T="string" Dense="false" Class="py-0">
            <MudListItem T="string" Icon="@Icons.Material.Filled.Summarize" IconColor="Color.Primary"
                         OnClick='() => Navigation.NavigateTo("/linkdel/summary")'>
                Daily Summary
            </MudListItem>
            <MudDivider />
            <MudListItem T="string" Icon="@Icons.Material.Filled.AccountBalanceWallet" IconColor="Color.Warning"
                         OnClick='() => Navigation.NavigateTo("/linkdel/cash")'>
                Cash Submission
            </MudListItem>
            <MudDivider />
            <MudListItem T="string" Icon="@Icons.Material.Filled.AccountCircle" IconColor="Color.Primary">
                My Profile
            </MudListItem>
            <MudDivider />
            <MudListItem T="string" Icon="@Icons.Material.Filled.History" IconColor="Color.Primary">
                History
            </MudListItem>
            <MudDivider />
            <MudListItem T="string" Icon="@Icons.Material.Filled.Sync" IconColor="Color.Primary">
                Sync Status
            </MudListItem>
            <MudDivider />
            <MudListItem T="string" Icon="@Icons.Material.Filled.Settings" IconColor="Color.Primary">
                Settings
            </MudListItem>
            <MudDivider />
            <MudListItem T="string" Icon="@Icons.Material.Filled.Info" IconColor="Color.Primary">
                About LinkDel
            </MudListItem>
        </MudList>
    </MudPaper>

    <MudButton Variant="Variant.Outlined" Color="Color.Error" FullWidth="true"
               StartIcon="@Icons.Material.Filled.Logout"
               Style="height: 48px; border-radius: 12px; font-weight: 600;"
               OnClick="HandleLogout">
        Logout
    </MudButton>
</div>

@code {
    private void HandleLogout()
    {
        var authProvider = (AppAuthStateProvider)AuthStateProvider;
        authProvider.Logout();
        Navigation.NavigateTo("/linkdel/login");
    }
}
